# Attacking ðŸ¥·

## macOS as target

### Disclaimer

I assume you have read the basics, which includes [the phenomenal book of Hacktricks - section macOS](https://book.hacktricks.xyz/macos-hardening/macos-security-and-privilege-escalation). As a result, you know a bit more about Mac architecture, protocols, security mechanisms (like Gatekeeper, MRT, or SIP, for example).

This is quite dense, so do not hesitate to read it slowly. 

### Best commands

Generally, Linux tricks will work fine, but macOS sometimes requires uppercase for options like `-r` (recursive), and there are additional commands to know.

#### No sudo

```
# List services running under root
launchtl print system

# List network services
networksetup -listallnetworkservices

# Launch an app from the terminal
open -a <APPNAME>

# Enumerate the network without nmap (passive recon)
arp -i en0 -l -a

# Inspect ports
lsof -i -P -n
```

#### sudo

```
# Check SIP status
csrutil status
csrutil disable

# Last root command
sudo !!
```

### Unix privesc check

[Unix privesc check](https://github.com/inquisb/unix-privesc-check/) can be helpful to enumerate the targeted machine. While it's a bit slow and very old, it should work fine.

## macOS as the attacker's OS

### Is macOS good enough for pentesting?

According to many hackers, you don't get hyper-speed with Apple's products and new chips. However, Apple's machine can be used for pen-testing, theoretically. For example, you can easily grab Kali tools and install them on your machine.

Then, there are documented ways to anonymize any machine, including your Mac.

The big caveat for me is to tweak something that is absolutely not meant for this, while there are dedicated pen-testing distros that are pretty well-maintained. However, you might beg to differ, as Apple's laptops have very efficient batteries, especially M1++ models, which can be convenient to operate in enterprises. 

Besides, you might feel comfortable with macOS but not Linux.

### Best commands 

To be completed later, but in the meantime, I like this one:

```
# Change MAC address
sudo ifconfig en0 ether <NEW ADDRESS>
```
## All chapters

1. [General](/general)
2. [Best resources](/documentations)
3. [Back to basics](/basics)
4. [Attacking macOS](/pentesting)
5. [Hardening/inspecting macOS](/hardening-inspecting)
6. [A few Dos and Don'ts](/dos-donts)
7. [Hardware](/hardware)
